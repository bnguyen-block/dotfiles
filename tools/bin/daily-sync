#!/usr/bin/env sh

echo "#######################################"
echo "## $(date) ##"
echo "#######################################"

echo "####################"
echo "## Syncing binary ..."
echo "####################"
export PATH="/opt/homebrew/bin:${PATH}"
/opt/homebrew/bin/sqm update
/Users/bnguyen/bin/hermit sync

echo "####################"
echo "## Update nix-channel ..."
echo "####################"
/run/current-system/sw/bin/nix-channel --update

echo "####################"
echo "## Update cash-server..."
echo "####################"
cd "$HOME/Development/cash-server" && git fetch --all && git pull origin main
cd "$HOME/Development/fancy-graph/" && bash make-graph

echo "####################"
echo "## Update goose cli "
echo "####################"
curl -fsSL https://github.com/block/goose/releases/download/stable/download_cli.sh | CONFIGURE=false bash

echo "Done"
